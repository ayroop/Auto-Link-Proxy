# ุฑุงูููุง ฺฉุงูู ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ุณุณุชู ูพุฑูฺฉุณ

## ๐ ุฎูุงุตู ูพุฑูฺู

ุงู ุณุณุชู ุดุงูู ูุงูโูุง ุฒุฑ ุงุณุช ฺฉู ุจุฑุง ุฏูุฑ ุฒุฏู ูุญุฏูุฏุช ุฏุงูููุฏ ฺฉุงุฑุจุฑุงู ุงุฑุงู ุงุฒ ุณุฑูุฑ ุฎุงุฑุฌ ุทุฑุงุญ ุดุฏู:

### ูุงูโูุง ุงุตู:
- **`proxy.php`** - ุงุณฺฉุฑูพุช ุงุตู ูพุฑูฺฉุณ
- **`config.php`** - ุชูุธูุงุช ูุฑฺฉุฒ ุณุณุชู
- **`link_rewriter.php`** - ุจุงุฒููุณ ุฎูุฏฺฉุงุฑ ููฺฉโูุง
- **`test_proxy.html`** - ุตูุญู ุชุณุช ุนููฺฉุฑุฏ
- **`README.md`** - ูุณุชูุฏุงุช ุงุตู

### ุงุทูุงุนุงุช ุณุฑูุฑ:
- **ุฏุงููู:** filmkhabar.space
- **IP ุงุฎุชุตุงุต:** 45.12.143.141
- **ูพูฺฏ:** ~178ms (ูุชูุณุท)

---

## ๐ ูุฑุงุญู ูุตุจ

### ูุฑุญูู 1: ุขูพููุฏ ูุงูโูุง
1. ุชูุงู ูุงูโูุง ุฑุง ุฏุฑ ุฑุดู ุณุงุช ุงุฑุงู (`filmkhabar.space`) ุขูพููุฏ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ูุฌูุฒูุง ูุงู ุฏุฑุณุช ุชูุธู ุดุฏูโุงูุฏ:
   ```bash
   chmod 644 *.php *.html *.md
   chmod 664 proxy.log
   ```

### ูุฑุญูู 2: ุชูุธู ุฏุงููู
ุฏุฑ ูุงู `config.php` ุชูุธูุงุช ุฒุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
```php
const PROXY_DOMAIN = 'filmkhabar.space'; // ุฏุงููู ูุงูุน ุดูุง
const PROXY_IP = '45.12.143.141'; // IP ุงุฎุชุตุงุต ุดูุง
const USE_IP_INSTEAD_OF_DOMAIN = false; // true ุจุฑุง ุงุณุชูุงุฏู ุงุฒ IP
```

### ูุฑุญูู 3: ุชุณุช ุงููู
1. ูุงู `test_proxy.html` ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ
2. ุฑู ููฺฉโูุง ุชุณุช ฺฉูฺฉ ฺฉูุฏ
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงูโูุง ุฏุงูููุฏ ูโุดููุฏ

---

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ุงูุชุฎุงุจ ุจู ุฏุงููู ู IP:

#### ุงุณุชูุงุฏู ุงุฒ ุฏุงููู (ูพุดููุงุฏ):
```php
const USE_IP_INSTEAD_OF_DOMAIN = false;
```
**ูุฒุงุง:**
- ุขุฏุฑุณโูุง ูุงุจู ุฎูุงูุฏู
- ุงูฺฉุงู ุชุบุฑ IP ุจุฏูู ุชุบุฑ ููฺฉโูุง
- SSL certificate ุขุณุงูโุชุฑ

#### ุงุณุชูุงุฏู ุงุฒ IP:
```php
const USE_IP_INSTEAD_OF_DOMAIN = true;
```
**ูุฒุงุง:**
- ุณุฑุนุช ฺฉู ุจุดุชุฑ
- ุนุฏู ูุงุจุณุชฺฏ ุจู DNS
- ููุงุณุจ ุจุฑุง ุชุณุชโูุง ุณุฑุน

### ุชูุธูุงุช ุงููุช ุฏุฑ `config.php`:

```php
// ูุญุฏูุฏุช IP (ุงุฎุชุงุฑ)
const ALLOWED_IPS = [
    '192.168.1.1',
    '10.0.0.1',
];

// ูุญุฏูุฏุช ุงูุฏุงุฒู ูุงู
const MAX_FILE_SIZE = 2 * 1024 * 1024 * 1024; // 2 ฺฏฺฏุงุจุงุช

// ููุน ูุงูโูุง ูุฌุงุฒ
const ALLOWED_EXTENSIONS = [
    'mp4', 'avi', 'mkv', 'mov', 'zip', 'rar', 'pdf'
];
```

### ุชูุธูุงุช ูุงฺฏโฺฏุฑ:
```php
// ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูุงฺฏ
const LOG_ENABLED = true;

// ุญุฏุงฺฉุซุฑ ุงูุฏุงุฒู ูุงู ูุงฺฏ
const MAX_LOG_SIZE = 10 * 1024 * 1024; // 10 ูฺฏุงุจุงุช
```

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### ุฑูุด 1: ููฺฉ ูุณุชูู
```
https://filmkhabar.space/proxy.php?url=https://sv1.cinetory.space/h2/movie/file.mp4
```
ุง ุจุง IP:
```
https://45.12.143.141/proxy.php?url=https://sv1.cinetory.space/h2/movie/file.mp4
```

### ุฑูุด 2: ุจุงุฒููุณ ุฎูุฏฺฉุงุฑ
ุฏุฑ ูุงูโูุง PHP ุณุงุช ุฎูุฏ:
```php
<?php
require_once 'link_rewriter.php';
?>
<!DOCTYPE html>
<html>
<body>
    <!-- ุงู ููฺฉโูุง ุฎูุฏฺฉุงุฑ ุจู ูพุฑูฺฉุณ ุชุจุฏู ูโุดููุฏ -->
    <a href="https://sv1.cinetory.space/h2/movie/file.mp4">ุฏุงูููุฏ</a>
</body>
</html>
```

### ุฑูุด 3: JavaScript
ุฏุฑ ุตูุญุงุช HTML:
```html
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('a[href*="sv1.cinetory.space"]').forEach(function(a) {
        a.href = 'https://filmkhabar.space/proxy.php?url=' + encodeURIComponent(a.href);
    });
});
</script>
```

---

## ๐ก๏ธ ุงููุช

### ูฺฺฏโูุง ุงููุช:
- โ ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุงููู
- โ ูุญุฏูุฏุช ููุน ูุงู
- โ ูุญุฏูุฏุช ุงูุฏุงุฒู ูุงู
- โ ูุญุฏูุฏุช IP (ุงุฎุชุงุฑ)
- โ ูุงฺฏโฺฏุฑ ฺฉุงูู
- โ ฺุฑุฎุด ุฎูุฏฺฉุงุฑ ูุงฺฏ

### ุชูุตูโูุง ุงููุช:
1. **HTTPS**: ุญุชูุงู ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ
2. **ูุงุฑูุงู**: ุฏุฑ ุตูุฑุช ุงูฺฉุงู ูุงุฑูุงู ุณุฑูุฑ ุฑุง ูุนุงู ฺฉูุฏ
3. **ูุญุฏูุฏุช IP**: ุจุฑุง ุณุงุชโูุง ุฎุตูุต ูุญุฏูุฏุช IP ุชูุธู ฺฉูุฏ
4. **ูุธุงุฑุช**: ูุงฺฏโูุง ุฑุง ูุฑุชุจ ุจุฑุฑุณ ฺฉูุฏ

---

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ:

#### ุฎุทุง "ุฏุงููู ุบุฑูุฌุงุฒ"
- ุจุฑุฑุณ ฺฉูุฏ ฺฉู `ALLOWED_HOSTS` ุฏุฑ `config.php` ุฏุฑุณุช ุชูุธู ุดุฏู
- ูุทูุฆู ุดูุฏ ฺฉู ุฏุงููู ุจุง ุญุฑูู ฺฉูฺฺฉ/ุจุฒุฑฺฏ ุฏุฑุณุช ููุดุชู ุดุฏู

#### ุฎุทุง "ุงุชุตุงู ูุงูููู"
- ุจุฑุฑุณ ฺฉูุฏ ฺฉู cURL ุฑู ุณุฑูุฑ ูุนุงู ุงุณุช
- ูุทูุฆู ุดูุฏ ฺฉู ุณุฑูุฑ ุฎุงุฑุฌ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช
- ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงุฑูุงู ุณุฑูุฑ ูุณุฏูุฏ ูฺฉุฑุฏู

#### ุฎุทุง "ูุงู ุฎู ุจุฒุฑฺฏ"
- ุชูุธูุงุช `MAX_FILE_SIZE` ุฏุฑ `config.php` ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุญุฏูุฏุชโูุง PHP (`memory_limit`, `max_execution_time`) ุฑุง ฺฺฉ ฺฉูุฏ

#### ูุงฺฏโฺฏุฑ ฺฉุงุฑ ููโฺฉูุฏ
- ูุฌูุฒูุง ูุงู `proxy.log` ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุทูุฆู ุดูุฏ ฺฉู `LOG_ENABLED = true` ุงุณุช

---

## ๐ ูุธุงุฑุช ู ูฺฏูุฏุงุฑ

### ุจุฑุฑุณ ูุงฺฏโูุง:
```bash
# ูุดุงูุฏู ูุงฺฏโูุง ุฒูุฏู
tail -f proxy.log

# ุฌุณุชุฌู ุฏุฑ ูุงฺฏโูุง
grep "ุฎุทุง" proxy.log

# ุขูุงุฑ ุฏุฑุฎูุงุณุชโูุง
grep "ุฏุฑุฎูุงุณุช ูพุฑูฺฉุณ ุฌุฏุฏ" proxy.log | wc -l
```

### ูฺฏูุฏุงุฑ:
1. **ฺุฑุฎุด ูุงฺฏ**: ุณุณุชู ุฎูุฏฺฉุงุฑ ูุงฺฏ ุฑุง ฺุฑุฎุด ูโุฏูุฏ
2. **ูุธุงุฑุช ุจุฑ ูุถุง ุฏุณฺฉ**: ูุฑุชุจ ูุถุง ุฏุณฺฉ ุฑุง ฺฺฉ ฺฉูุฏ
3. **ุจุฑูุฒุฑุณุงู**: ฺฉุฏ ุฑุง ูุฑุชุจ ุจุฑุฑุณ ู ุจุฑูุฒุฑุณุงู ฺฉูุฏ

---

## ๐ง ุจูููโุณุงุฒ

### ุชูุธูุงุช ุนููฺฉุฑุฏ:
```php
// ุงูุฏุงุฒู ุจุงูุฑ ุงุณุชุฑู
const STREAM_BUFFER_SIZE = 16384; // ุงูุฒุงุด ุจุฑุง ุณุฑุนุช ุจุดุชุฑ

// ูุญุฏูุฏุช ุญุงูุธู
const MEMORY_LIMIT = '512M'; // ุงูุฒุงุด ุจุฑุง ูุงูโูุง ุจุฒุฑฺฏ

// Timeout
const CURL_TIMEOUT = 60; // ุงูุฒุงุด ุจุฑุง ูุงูโูุง ุจุฒุฑฺฏ
```

### ุชูุตูโูุง ุจูููโุณุงุฒ:
1. **CDN**: ุจุฑุง ุชุฑุงูฺฉ ุจุงูุง ุงุฒ CDN ุงุณุชูุงุฏู ฺฉูุฏ
2. **ฺฉุด**: ุฏุฑ ุตูุฑุช ุงูฺฉุงู ฺฉุด ุณุฑูุฑ ุฑุง ูุนุงู ฺฉูุฏ
3. **ูุดุฑุฏูโุณุงุฒ**: ูุดุฑุฏูโุณุงุฒ gzip ุฑุง ูุนุงู ฺฉูุฏ

---

## ๐ ูพุดุชุจุงู

### ุงุทูุงุนุงุช ููุฏ ุจุฑุง ุนุจโุงุจ:
- ูุณุฎู PHP: `<?php echo phpversion(); ?>`
- ุงูุฒูููโูุง ูุนุงู: `<?php print_r(get_loaded_extensions()); ?>`
- ุชูุธูุงุช cURL: `<?php print_r(curl_version()); ?>`

### ูฺฉุงุช ููู:
- ุณุณุชู ููุท ุฑู ูุงุณุช ุงุฑุงู ุงุฌุฑุง ูโุดูุฏ
- ูฺ ุชุบุฑ ุฏุฑ ุณุฑูุฑ ุฎุงุฑุฌ ูุงุฒ ูุณุช
- ุชูุงู ุชูุธูุงุช ุฏุฑ `config.php` ูุชูุฑฺฉุฒ ุดุฏู
- ุณุณุชู ุจุง PHP 7.4+ ุณุงุฒฺฏุงุฑ ุงุณุช
- ุงูฺฉุงู ุงุณุชูุงุฏู ุงุฒ ุฏุงููู ุง IP ุงุฎุชุตุงุต

---

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ุงุฑุงุฆู ูโุดูุฏ. ุงุณุชูุงุฏู ุชุฌุงุฑ ูุฌุงุฒ ุงุณุช. 